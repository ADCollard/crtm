\chapter{Repository Organisation}
%================================
If you access the repository via your browser, you should see something like figure \ref{fig:main_repository}, where the repository is organised into the usual \f{trunk}, \f{branches}, and \f{tags} subdirectories.
\begin{figure}[htb]
  \centering
  \includegraphics[scale=0.5]{graphics/main_repository.eps}
  \caption{The root of the CRTM repository organised into the typical \f{trunk}, \f{branches}, and \f{tags} subdirectories.}
  \label{fig:main_repository}
\end{figure}

\section{\f{trunk} subdirectory}
%------------------------------------
Mainline development of the CRTM is done in the trunk. Navigating the \href{crtm/trunk}{\f{trunk}} link of the web page shown in figure \ref{fig:main_repository}, displays the various categories of the CRTM repository as shown in figure \ref{fig:trunk_repository}. 
\begin{figure}[htb]
  \centering
  \includegraphics[scale=0.5]{graphics/trunk_repository.eps}
  \caption{The trunk of the CRTM repository, showing the various categories.}
  \label{fig:trunk_repository}
\end{figure}
A short description of the trunk subdirectories are shown in table \ref{tab:trunk_category_description}
\begin{table}[htb]
  \centering
  \begin{tabular}{p{2cm} p{12cm}}
    \hline
    \sffamily\textbf{Category} & \sffamily\textbf{Description} \\
    \hline\hline
    \f{doc}       & CRTM documentation\\
    \f{externals} & Library of third party software used in the CRTM and/or support software\\
    \f{fix}       & Coefficient datafiles used by the CRTM.\\
    \f{scripts}   & Hierarchy of script software, for various languages, used in CRTM build, testing, visualisation, etc.\\
    \f{src}       & Main CRTM Fortran95 source code directory. Contains the core CRTM modules as well as support software.\\
    \f{test}      & CRTM testing. Contains all the tests (unit, component) used to validate the CRTM.\\
    \f{web}       & The CRTM webpage source.\\
    \hline
  \end{tabular}
  \caption{Description of the contents of the CRTM repository trunk categories.}
  \label{tab:trunk_category_description}
\end{table}

As indicated, the \f{src} subdirectory is the one that contains the actual CRTM source code. This and the \f{fix}
directory, which contains all of the spectral, transmittance, aerosol, cloud, and surface emissivity coefficient datafiles, are the two main parts of the CRTM repository.


\section{\f{branches} subdirectory}
%---------------------------------------
Development independent of the main CRTM trunk is done in the branches subdirectory. Currently, the CRTM contains only \f{src} category branches and, of those, there are two types:
\begin{enumerate}
  \item Experimental developmental branches where wholescale changes to the CRTM may result in instability. The naming convention is \f{EXP-}\textit{desc} where \textit{desc} is a short description of the experiment. For example, a branch named \f{EXP-DISORT} has been created to implement the DISORT radiative transfer solver in the CRTM for validation. 
  \item Code release branches where the code is tested and ``tweaked'' prior to a release. The naming convention here is \f{RB-}\textit{rel} where \textit{rel} is the planned release version number. An example would be the v1.2 release branch, \f{RB-1.2}.
\end{enumerate}
The current state of the CRTM \f{branches/src} subdirectory is shown in figure \ref{fig:branches_src_repository}
\begin{figure}[htb]
  \centering
  \includegraphics[scale=0.5]{graphics/branches_src_repository.eps}
  \caption{Snapshot of the \f{branches/src} subdirectory of the CRTM repository, showing the current branches.}
  \label{fig:branches_src_repository}
\end{figure}


\section{\f{tags} subdirectory}
%-----------------------------------
If a snapshot of development is wanted, or if development has been completed on a trunk or branch revision, a copy is made and placed in the \f{tags} subdirectory. There are three tag naming conventions in current use:
\begin{enumerate}
  \item For official software releases, \f{REL-}\textit{rel}; where \textit{rel} is the software relase number. For example, the first official CRTM release has the tag \f{REL-1.1}.
  \item For pre-release snapshots, \f{REL-}\textit{rel}\f{\_}\textit{stage}\f{.rev}\textit{RN}\f{.}\textit{YYYY-MM-DD}; where \textit{stage} is the release stage, typically \f{alpha} or \f{beta}; \textit{RN} is the repository revision number from which the tag was created; and \textit{YYYY-MM-DD} is the date on which the tag was created. An example of this is \f{REL-1.1\_beta.rev1855.2008-02-25}.
  \item For experimental branch snapshots, \f{EXP-}\textit{desc}\f{.rev}\textit{RN}\f{.}\textit{YYYY-MM-DD}; where \textit{desc} is a short description of the experimental branch. An example of this is \f{EXP-Extra\_Layers.rev1738.2008-02-12}.
\end{enumerate}
Some examples of the current tags in the CRTM \f{tags/src} subdirectory are shown in figure \ref{fig:tags_src_repository}. Note that there is no development in a tag directory - it is strictly a snapshot of a trunk or branch revision.

\begin{figure}[htb]
  \centering
  \includegraphics[scale=0.5]{graphics/tags_src_repository.eps}
  \caption{Snapshot of the \f{tags/src} subdirectory of the CRTM repository, showing some current tags.}
  \label{fig:tags_src_repository}
\end{figure}

