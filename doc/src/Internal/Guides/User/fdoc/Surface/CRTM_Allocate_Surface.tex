\subsection{\texttt{CRTM\_Allocate\_Surface} interface}
  \label{sec:CRTM_Allocate_Surface_interface}
  \begin{alltt}
 
  NAME:
        CRTM_Allocate_Surface
  
  PURPOSE:
        Function to allocate CRTM_Surface data structures.
 
        NOTE: This function is a wrapper for the CRTM_SensorData allocation 
              routine to provide the functionality and convenience for
              allocation of both scalar and rank-1 Surface structures in
              the same manner as for CRTM_Atmosphere_type structures.
 
  CALLING SEQUENCE:
        Error_Status = CRTM_Allocate_Surface( n_Channels             , &
                                              Surface                , &
                                              Message_Log=Message_Log  )
 
  INPUT ARGUMENTS:
        n_Channels:   Number of channels dimension of Surface%SensorData
                      structure
                      ** Note: Can be = 0 (i.e. no sensor data). **
                      UNITS:      N/A
                      TYPE:       INTEGER
                      DIMENSION:  Scalar OR Rank-1
                                  See output Surface dimensionality table
                      ATTRIBUTES: INTENT(IN)
 
  OUTPUT ARGUMENTS:
        Surface:      Surface structure with allocated SensorData pointer
                      members. The following table shows the allowable dimension
                      combinations for the calling routine, where M == number of
                      profiles/surface locations:
 
                         Input       Output
                       n_Channels   Surface
                        dimension   dimension
                      --------------------------
                         scalar      scalar
                         scalar        M
                           M           M
 
                      These multiple interfaces are supplied purely for ease of
                      use depending on what data is available.
                      
                      UNITS:      N/A
                      TYPE:       CRTM_Surface_type
                      DIMENSION:  Scalar or Rank-1
                                  See chart above.
                      ATTRIBUTES: INTENT(IN OUT)
 
 
  OPTIONAL INPUT ARGUMENTS:
        Message_Log:  Character string specifying a filename in which any
                      messages will be logged. If not specified, or if an
                      error occurs opening the log file, the default action
                      is to output messages to standard output.
                      UNITS:      N/A
                      TYPE:       CHARACTER(*)
                      DIMENSION:  Scalar
                      ATTRIBUTES: INTENT(IN), OPTIONAL
 
  FUNCTION RESULT:
        Error_Status: The return value is an integer defining the error status.
                      The error codes are defined in the Message_Handler module.
                      If == SUCCESS the structure re-initialisation was successful
                         == FAILURE - an error occurred, or
                                    - the structure internal allocation counter
                                      is not equal to one (1) upon exiting this
                                      function. This value is incremented and
                                      decremented for every structure allocation
                                      and deallocation respectively.
                      UNITS:      N/A
                      TYPE:       INTEGER
                      DIMENSION:  Scalar
 
  COMMENTS:
        Note the INTENT on the output Surface argument is IN OUT rather than
        just OUT. This is necessary because the argument may be defined upon
        input. To prevent memory leaks, the IN OUT INTENT is a must.
 
  \end{alltt}
