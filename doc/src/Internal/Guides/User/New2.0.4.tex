\chapter*{What's New in v2.0.4}
%==============================
\addcontentsline{toc}{chapter}{What's New in v2.0.4}

The v2.0.4 update to the CRTM was done to
\begin{itemize}
  \item Update the sensor coefficient files, including the renaming of the hyperspectral infrared sensor identifiers.
  \item Fix a number of defects.
\end{itemize}


\section*{Update of sensor coefficient files}
%--------------------------------------------
\addcontentsline{toc}{section}{Update of sensor coefficient files}

An update of all the sensor coefficient files (the \texttt{SpcCoeff} and \texttt{TauCoeff} files) was carried out, introducing many new sensors. See table \ref{tab:sensor_id} for the full listing of instruments for which there are CRTM datafiles.

Additionally, to facilitate use of a generic sensor identifier for CRTM datafiles containing channel subsets of hyperspectral instruments such as AIRS, IASI, and CrIS, the "all channel" files (constructed from the individual module or band files) are now tagged with the total channel count. The rename of the \texttt{Sensor\_Id}'s for the current hyperspectral sensors are shown below.

\begin{center}
  \begin{tabular}{c c}
    \hline
    \sffamily\textbf{Old \texttt{Sensor\_Id}} & \sffamily\textbf{New \texttt{Sensor\_Id}} \\
    \hline\hline
    \texttt{airs\_aqua}    & \texttt{airs2378\_aqua}    \\
    \texttt{iasi\_metop-a} & \texttt{iasi8461\_metop-a} \\
    \texttt{iasi\_metop-b} & \texttt{iasi8461\_metop-b} \\
    \texttt{cris\_npp}     & \texttt{cris1305\_npp}     \\
    \hline 
  \end{tabular}
\end{center}



\section*{Bug Fixes}
%-------------------
\addcontentsline{toc}{section}{Bug Fixes}

\begin{description}

\item[Fix an initialisation error in the \texttt{CRTM\_IRSSEM} module] In the adjoint procedure, \texttt{CRTM\_Compute\_IRSSEM\_AD()} some local adjoint variable were not initialised prior to ttheir use. Under certain run conditions (based on compiler, platform, and sensors run), this was generated floating point exceptions and halting execution. The fix applied was to initialise the local adjoint variables in question. See ticket \ticket{259}.

\item[Fix a memory leak in the \texttt{ODPS\_Predictor\_Define} module] A deallocation statement was missing a single structure component leading to a small memory leak. The fix applied was to ensure that the components of the allocation and deallocation statements matched. See ticket \ticket{260}.

\end{description}


