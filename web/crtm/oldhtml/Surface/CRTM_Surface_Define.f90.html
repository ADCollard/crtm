<!-- This file was generated by mk_f90_html_help.pro -->
<html>
 
<head>
<TITLE>CRTM_SURFACE_DEFINE.F90 Subprograms</TITLE>
</head>
 
<body>
<H1>CRTM_SURFACE_DEFINE.F90 Subprograms</H1>
<P>
<STRONG>Last modified: </STRONG>Wed Jun 29 11:16:31 2005.<P>
 
<HR>
 
<A NAME="SUBPROGRAMLIST">
<H1>List of Subprograms</H1></A>
<UL>
<LI><A HREF="#CRTM_DESTROY_SURFACE">CRTM_DESTROY_SURFACE</A>
<LI><A HREF="#CRTM_ALLOCATE_SURFACE">CRTM_ALLOCATE_SURFACE</A>
<LI><A HREF="#CRTM_ASSIGN_SURFACE">CRTM_ASSIGN_SURFACE</A>
<LI><A HREF="#CRTM_WEIGHTEDSUM_SURFACE">CRTM_WEIGHTEDSUM_SURFACE</A>
</UL><P>
 
<HR>
 
<H1>Subprogram Descriptions</H1>
<A NAME="CRTM_DESTROY_SURFACE">
<H2>CRTM_DESTROY_SURFACE</H2></A>
<A HREF="#CRTM_ALLOCATE_SURFACE">[Next Subprogram]</A>
<A HREF="#SUBPROGRAMLIST">[List of Subprograms]</A>
<PRE>
 NAME:
       CRTM_Destroy_Surface
 
 PURPOSE:
       Function to re-initialize the scalar and pointer members of Surface
       data structures.

       NOTE: This function is mostly a wrapper for the CRTM_SensorData
             destruction routine to provide the functionality and convenience
             of allocation of both scalar and rank-1 Surface structures in
             the same manner as for CRTM_Atmosphere_type structures.

 CATEGORY:
       CRTM : Surface

 LANGUAGE:
       Fortran-95

 CALLING SEQUENCE:
       Error_Status = CRTM_Destroy_Surface( Surface1, [ Surface2, ..., Surface10, ] &amp;  ! Output
                                            RCS_Id      = RCS_Id,                   &amp;  ! Revision control
                                            Message_Log = Message_Log               )  ! Error messaging

 INPUT ARGUMENTS:
       None.

 OPTIONAL INPUT ARGUMENTS:
       Message_Log:  Character string specifying a filename in which any
                     messages will be logged. If not specified, or if an
                     error occurs opening the log file, the default action
                     is to output messages to standard output.
                     UNITS:      N/A
                     TYPE:       CHARACTER(*)
                     DIMENSION:  Scalar
                     ATTRIBUTES: INTENT( IN ), OPTIONAL

 OUTPUT ARGUMENTS:
       Surface1, [ Surface2, ..., Surface10 ]:
                     Re-initialized Surface structure(s). At least one
                     structure or structure array must be specified, and
                     no more than 10 structures or structure arrays must
                     be specified.
                     UNITS:      N/A
                     TYPE:       CRTM_Surface_type
                     DIMENSION:  Scalar OR Rank-1 array
                     ATTRIBUTES: INTENT( IN OUT )

 OPTIONAL OUTPUT ARGUMENTS:
       RCS_Id:       Character string containing the Revision Control
                     System Id field for the module.
                     UNITS:      N/A
                     TYPE:       CHARACTER(*)
                     DIMENSION:  Scalar
                     ATTRIBUTES: INTENT( OUT ), OPTIONAL

 FUNCTION RESULT:
       Error_Status: The return value is an integer defining the error status.
                     The error codes are defined in the ERROR_HANDLER module.
                     If == SUCCESS the structure re-initialisation was successful
                        == FAILURE - an error occurred, or
                                   - the structure internal allocation counter
                                     is not equal to zero (0) upon exiting this
                                     function. This value is incremented and
                                     decremented for every structure allocation
                                     and deallocation respectively.
                     UNITS:      N/A
                     TYPE:       INTEGER
                     DIMENSION:  Scalar

 CALLS:
       CRTM_Clear_Surface:       Subroutine to clear the scalar members of a
                                 CRTM Surface structure.

       CRTM_Destroy_SensorData:  Function to re-initialize the scalar and
                                 pointer members of SensorData data structures.
                                 SOURCE: CRTM_SENSORDATA_DEFINE module

       Display_Message:          Subroutine to output messages
                                 SOURCE: ERROR_HANDLER module

 SIDE EFFECTS:
       None.

 RESTRICTIONS:
       None.
       
 COMMENTS:
       Note the INTENT on the output Surface argument is IN OUT rather than
       just OUT. This is necessary because the argument may be defined upon
       input. To prevent memory leaks, the IN OUT INTENT is a must.

 CREATION HISTORY:
       Written by:     Paul van Delst, CIMSS/SSEC 12-May-2004
                       paul.vandelst@ssec.wisc.edu
</PRE><P>
<STRONG>(See CRTM_Surface_Define.f90)</STRONG><P>
<HR>
 
<A NAME="CRTM_ALLOCATE_SURFACE">
<H2>CRTM_ALLOCATE_SURFACE</H2></A>
<A HREF="#CRTM_DESTROY_SURFACE">[Previous Subprogram]</A>
<A HREF="#CRTM_ASSIGN_SURFACE">[Next Subprogram]</A>
<A HREF="#SUBPROGRAMLIST">[List of Subprograms]</A>
<PRE>
 NAME:
       CRTM_Allocate_Surface
 
 PURPOSE:
       Function to allocate CRTM_Surface data structures.

       NOTE: This function is wrapper for the CRTM_SensorData allocation 
             routine to provide the functionality and convenience for
             allocation of both scalar and rank-1 Surface structures in
             the same manner as for CRTM_Atmosphere_type structures.

 CATEGORY:
       CRTM : Surface

 LANGUAGE:
       Fortran-95

 CALLING SEQUENCE:
       Error_Status = CRTM_Allocate_Surface( n_Channels,               &amp;  ! Input
                                             Surface,                  &amp;  ! Output
                                             RCS_Id      = RCS_Id,     &amp;  ! Revision control
                                             Message_Log = Message_Log )  ! Error messaging

 INPUT ARGUMENTS:
       n_Channels:   Number of channels dimension of Surface%SensorData
                     structure
                     ** Note: Can be = 0 (i.e. no sensor data). **
                     UNITS:      N/A
                     TYPE:       INTEGER
                     DIMENSION:  Scalar OR Rank-1
                                 See output Surface dimensionality table
                     ATTRIBUTES: INTENT( IN )

 OPTIONAL INPUT ARGUMENTS:
       Message_Log:  Character string specifying a filename in which any
                     messages will be logged. If not specified, or if an
                     error occurs opening the log file, the default action
                     is to output messages to standard output.
                     UNITS:      N/A
                     TYPE:       CHARACTER(*)
                     DIMENSION:  Scalar
                     ATTRIBUTES: INTENT( IN ), OPTIONAL

 OUTPUT ARGUMENTS:
       Surface:      Surface structure with allocated SensorData pointer
                     members. The following table shows the allowable dimension
                     combinations for the calling routine, where M == number of
                     profiles/surface locations:

                        Input       Output
                      n_Channels   Surface
                       dimension   dimension
                     --------------------------
                        scalar      scalar
                        scalar        M
                          M           M

                     These multiple interfaces are supplied purely for ease of
                     use depending on what data is available.
                     
                     UNITS:      N/A
                     TYPE:       CRTM_Surface_type
                     DIMENSION:  Scalar or Rank-1
                                 See chart above.
                     ATTRIBUTES: INTENT( IN OUT )


 OPTIONAL OUTPUT ARGUMENTS:
       RCS_Id:       Character string containing the Revision Control
                     System Id field for the module.
                     UNITS:      N/A
                     TYPE:       CHARACTER(*)
                     DIMENSION:  Scalar
                     ATTRIBUTES: INTENT( OUT ), OPTIONAL

 FUNCTION RESULT:
       Error_Status: The return value is an integer defining the error status.
                     The error codes are defined in the ERROR_HANDLER module.
                     If == SUCCESS the structure re-initialisation was successful
                        == FAILURE - an error occurred, or
                                   - the structure internal allocation counter
                                     is not equal to one (1) upon exiting this
                                     function. This value is incremented and
                                     decremented for every structure allocation
                                     and deallocation respectively.
                     UNITS:      N/A
                     TYPE:       INTEGER
                     DIMENSION:  Scalar

 CALLS:
       CRTM_Allocate_SensorData:   Function to allocate the pointer members of a
                                   CRTM SensorData data structure.
                                   SOURCE: CRTM_SENSORDATA_DEFINE module

       Display_Message:            Subroutine to output messages
                                   SOURCE: ERROR_HANDLER module

 SIDE EFFECTS:
       None.

 RESTRICTIONS:
       None.
       
 COMMENTS:
       Note the INTENT on the output Surface argument is IN OUT rather than
       just OUT. This is necessary because the argument may be defined upon
       input. To prevent memory leaks, the IN OUT INTENT is a must.

 CREATION HISTORY:
       Written by:     Paul van Delst, CIMSS/SSEC 14-Feb-2005
                       paul.vandelst@ssec.wisc.edu
</PRE><P>
<STRONG>(See CRTM_Surface_Define.f90)</STRONG><P>
<HR>
 
<A NAME="CRTM_ASSIGN_SURFACE">
<H2>CRTM_ASSIGN_SURFACE</H2></A>
<A HREF="#CRTM_ALLOCATE_SURFACE">[Previous Subprogram]</A>
<A HREF="#CRTM_WEIGHTEDSUM_SURFACE">[Next Subprogram]</A>
<A HREF="#SUBPROGRAMLIST">[List of Subprograms]</A>
<PRE>
 NAME:
       CRTM_Assign_Surface

 PURPOSE:
       Function to copy valid Surface structures.

 CATEGORY:
       CRTM : Surface

 LANGUAGE:
       Fortran-95

 CALLING SEQUENCE:
       Error_Status = CRTM_Assign_Surface( Surface_in,  &amp;  ! Input
                                           Surface_out, &amp;  ! Output
                                           RCS_Id = RCS_Id,          &amp;  ! Revision control
                                           Message_Log = Message_Log )  ! Error messaging

 INPUT ARGUMENTS:
       Surface_in:      Surface structure which is to be copied.
                        UNITS:      N/A
                        TYPE:       CRTM_Surface_type
                        DIMENSION:  Scalar OR Rank-1
                        ATTRIBUTES: INTENT( IN )

 OPTIONAL INPUT ARGUMENTS:
       Message_Log:     Character string specifying a filename in which any
                        messages will be logged. If not specified, or if an
                        error occurs opening the log file, the default action
                        is to output messages to standard output.
                        UNITS:      N/A
                        TYPE:       CHARACTER(*)
                        DIMENSION:  Scalar
                        ATTRIBUTES: INTENT( IN ), OPTIONAL

 OUTPUT ARGUMENTS:
       Surface_out:     Copy of the input structure, Surface_in.
                        UNITS:      N/A
                        TYPE:       CRTM_Surface_type
                        DIMENSION:  Same as Surface_in
                        ATTRIBUTES: INTENT( IN OUT )


 OPTIONAL OUTPUT ARGUMENTS:
       RCS_Id:          Character string containing the Revision Control
                        System Id field for the module.
                        UNITS:      N/A
                        TYPE:       CHARACTER(*)
                        DIMENSION:  Scalar
                        ATTRIBUTES: INTENT( OUT ), OPTIONAL

 FUNCTION RESULT:
       Error_Status:    The return value is an integer defining the error status.
                        The error codes are defined in the ERROR_HANDLER module.
                        If == SUCCESS the structure assignment was successful
                           == FAILURE an error occurred
                        UNITS:      N/A
                        TYPE:       INTEGER
                        DIMENSION:  Scalar

 CALLS:
       CRTM_Assign_SensorData:   Function to copy valid CRTM SensorData structures.

       Display_Message:          Subroutine to output messages
                                 SOURCE: ERROR_HANDLER module

 SIDE EFFECTS:
       None.

 RESTRICTIONS:
       None.
       
 COMMENTS:
       Note the INTENT on the output Surface argument is IN OUT rather than
       just OUT. This is necessary because the argument may be defined upon
       input. To prevent memory leaks, the IN OUT INTENT is a must.

 CREATION HISTORY:
       Written by:     Paul van Delst, CIMSS/SSEC 12-MAy-2004
                       paul.vandelst@ssec.wisc.edu
</PRE><P>
<STRONG>(See CRTM_Surface_Define.f90)</STRONG><P>
<HR>
 
<A NAME="CRTM_WEIGHTEDSUM_SURFACE">
<H2>CRTM_WEIGHTEDSUM_SURFACE</H2></A>
<A HREF="#CRTM_ASSIGN_SURFACE">[Previous Subprogram]</A>
<A HREF="#SUBPROGRAMLIST">[List of Subprograms]</A>
<PRE>
 NAME:
       CRTM_WeightedSum_Surface

 PURPOSE:
       Function to perform a weighted sum of two valid CRTM_Surface
       structures. The weighted summation performed is:
         A = A + w1*B + w2
       where A and B are the CRTM_Surface structures, and w1 and w2
       are the weighting factors. Note that w2 is optional.

 CATEGORY:
       CRTM : Surface

 LANGUAGE:
       Fortran-95

 CALLING SEQUENCE:
       Error_Status = CRTM_WeightedSum_Surface( A,                        &amp;  ! In/Output
                                                B,                        &amp;  ! Input
                                                w1,                       &amp;  ! Input
                                                w2 = w2,                  &amp;  ! Optional input
                                                RCS_Id = RCS_Id,          &amp;  ! Revision control
                                                Message_Log = Message_Log )  ! Error messaging

 INPUT ARGUMENTS:
       A:               Surface structure that is to be added to.
                        UNITS:      N/A
                        TYPE:       CRTM_Surface_type
                        DIMENSION:  Scalar OR Rank-1
                        ATTRIBUTES: INTENT( IN OUT )

       B:               Surface structure that is to be weighted and
                        added to structure A.
                        UNITS:      N/A
                        TYPE:       CRTM_Surface_type
                        DIMENSION:  Same as A
                        ATTRIBUTES: INTENT( IN )

       w1:              The first weighting factor used to multiply the
                        contents of the input structure, B.
                        UNITS:      N/A
                        TYPE:       REAL( fp_kind )
                        DIMENSION:  Scalar
                        ATTRIBUTES: INTENT( IN )

 OPTIONAL INPUT ARGUMENTS:
       w2:              The second weighting factor used to multiply the
                        contents of the input structure, B.
                        UNITS:      N/A
                        TYPE:       REAL( fp_kind )
                        DIMENSION:  Scalar
                        ATTRIBUTES: INTENT( IN )

       Message_Log:     Character string specifying a filename in which any
                        messages will be logged. If not specified, or if an
                        error occurs opening the log file, the default action
                        is to output messages to standard output.
                        UNITS:      N/A
                        TYPE:       CHARACTER(*)
                        DIMENSION:  Scalar
                        ATTRIBUTES: INTENT( IN ), OPTIONAL

 OUTPUT ARGUMENTS:
       A:               Structure containing the weight sum result,
                          A = A + w1*B + w2
                        UNITS:      N/A
                        TYPE:       CRTM_Surface_type
                        DIMENSION:  Same as B
                        ATTRIBUTES: INTENT( IN OUT )


 OPTIONAL OUTPUT ARGUMENTS:
       RCS_Id:          Character string containing the Revision Control
                        System Id field for the module.
                        UNITS:      N/A
                        TYPE:       CHARACTER(*)
                        DIMENSION:  Scalar
                        ATTRIBUTES: INTENT( OUT ), OPTIONAL

 FUNCTION RESULT:
       Error_Status:    The return value is an integer defining the error status.
                        The error codes are defined in the ERROR_HANDLER module.
                        If == SUCCESS the structure assignment was successful
                           == FAILURE an error occurred
                        UNITS:      N/A
                        TYPE:       INTEGER
                        DIMENSION:  Scalar

 CALLS:
       Display_Message:             Subroutine to output messages
                                    SOURCE: ERROR_HANDLER module

 SIDE EFFECTS:
       The argument A is INTENT( IN OUT ) and is modified upon output.

 RESTRICTIONS:
       None.

 COMMENTS:
       None.

 CREATION HISTORY:
       Written by:     Paul van Delst, CIMSS/SSEC 15-Jun-2005
                       paul.vandelst@ssec.wisc.edu
</PRE><P>
<STRONG>(See CRTM_Surface_Define.f90)</STRONG><P>
<HR>
 
</body>
</html>
