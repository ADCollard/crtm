<!-- This file was generated by mk_f90_html_help.pro -->
<html>
 
<head>
<TITLE>Module Documentation</TITLE>
</head>
 
<body>
<H1>Module Documentation</H1>
<P>
<STRONG>Last modified: </STRONG>Wed Jun 29 11:16:31 2005.<P>
 
<HR>
 
<A NAME="MODULELIST">
<H1>List of Modules</H1></A>
<UL>
<LI><A HREF="#CRTM_SURFACE_DEFINE">CRTM_SURFACE_DEFINE</A>
<LI><A HREF="#CRTM_SENSORDATA_DEFINE">CRTM_SENSORDATA_DEFINE</A>
<LI><A HREF="#CRTM_SURFACE_BINARY_IO">CRTM_SURFACE_BINARY_IO</A>
</UL><P>
 
<HR>
 
<H1>Module Descriptions</H1>
<A NAME="CRTM_SURFACE_DEFINE">
<H2>CRTM_SURFACE_DEFINE</H2></A>
<A HREF="#CRTM_SENSORDATA_DEFINE">[Next Module]</A>
<A HREF="#MODULELIST">[List of Modules]</A>
<PRE>
 NAME:
       CRTM_Surface_Define

 PURPOSE:
       Module defining the CRTM Surface data structure and containing routines
       to manipulate it.
       
 CATEGORY:
       CRTM : Surface

 LANGUAGE:
       Fortran-95

 CALLING SEQUENCE:
       USE CRTM_Surface_Define

 MODULES:
       Type_Kinds:              Module containing definitions for kinds
                                of variable types.

       Error_Handler:           Module to define simple error codes and
                                handle error conditions
                                USEs: FILE_UTILITY module

       CRTM_SensorData_Define:  Module defining the SensorData data structure
                                and containing routines to manipulate it.
                                USEs: TYPE_KINDS module
                                      ERROR_HANDLER module

 CONTAINS:
       PUBLIC subprograms
       ------------------
         CRTM_Destroy_Surface:        Function to re-initialize a Surface
                                      structure.

         CRTM_Allocate_Surface:       Function to allocate CRTM_Surface data
                                      structures.
                                      NOTE: This function is wrapper for the
                                            CRTM_SensorData allocation routine
                                            to provide the functionality and
                                            convenience for allocation of both
                                            scalar and rank-1 Surface structures
                                            in the same manner as for
                                            CRTM_Atmosphere_type structures.

         CRTM_Assign_Surface:         Function to copy a Surface structure.

         CRTM_WeightedSum_Surface:    Function to perform a weighted sum of two
                                      CRTM_Surface structures.


       PRIVATE subprograms
       -------------------
         CRTM_Clear_Surface:          Subroutine to clear the scalar members of
                                      a CRTM Surface structure.



 USE ASSOCIATED PUBLIC SUBPROGRAMS:
       CRTM_Associated_SensorData:    Function to test the association status
                                      of the pointer members of a SensorData
                                      structure.
                                      SOURCE: CRTM_SENSORDATA_DEFINE module

       CRTM_Destroy_SensorData:       Function to re-initialize an SensorData
                                      structure.
                                      SOURCE: CRTM_SENSORDATA_DEFINE module

       CRTM_Allocate_SensorData:      Function to allocate the pointer members
                                      of a SensorData structure.
                                      SOURCE: CRTM_SENSORDATA_DEFINE module

       CRTM_Assign_SensorData:        Function to copy an SensorData structure.
                                      SOURCE: CRTM_SENSORDATA_DEFINE module


 DERIVED TYPES:
       CRTM_Surface_type
       -----------------
         Definition of the public CRTM_Surface data structure.
         Fields are,

         Land_Coverage:           Fraction of surface that is of the 
                                  land surface type.
                                  UNITS:      N/A
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Water_Coverage:          Fraction of surface that is of the 
                                  water surface type.
                                  UNITS:      N/A
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Snow_Coverage:           Fraction of surface that is of the 
                                  snow surface type.
                                  UNITS:      N/A
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Ice_Coverage:            Fraction of surface that is of the 
                                  ice surface type.
                                  UNITS:      N/A
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Wind_Speed:              Surface wind speed.
                                  UNITS:      m.s^-1
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Land_Type:               The land surface type. See PUBLIC PARAMETERS
                                  for the valid types.
                                  UNITS:      N/A
                                  TYPE:       INTEGER
                                  DIMENSION:  Scalar

         Land_Temperature:        The land surface temperature.
                                  UNITS:      Kelvin, K
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Soil_Moisture_Content:   The volumetric water content of the soil.
                                  UNITS:      g.cm^-3
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Canopy_Water_Content:    The gravimetric water content of the canopy
                                  UNITS:      g.cm^-3
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Vegetation_Fraction:     The vegetation fraction of the surface.
                                  UNITS:      N/A
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Soil_Temperature:        The soil temperature.
                                  UNITS:      Kelvin, K
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Water_Type:              The water surface type. See PUBLIC PARAMETERS
                                  for the valid types.
                                  UNITS:      N/A
                                  TYPE:       INTEGER
                                  DIMENSION:  Scalar

         Water_Temperature:       The water surface temperature.
                                  UNITS:      Kelvin, K
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Wind_Direction:          Surface wind direction. Measured in degrees
                                  east from north.
                                  UNITS:      Degrees
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Salinity:                Water salinity.
                                  UNITS:      ppmv
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Snow_Type:               The snow surface type. See PUBLIC PARAMETERS
                                  for the valid types.
                                  UNITS:      N/A
                                  TYPE:       INTEGER
                                  DIMENSION:  Scalar

         Snow_Temperature:        The snow surface temperature.
                                  UNITS:      Kelvin, K
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Snow_Depth:              The snow depth.
                                  UNITS:      mm
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Snow_Density:            The snow density
                                  UNITS:      g.cm^-3
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Snow_Grain_Size:         The snow grain size.
                                  UNITS:      mm
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Ice_Type:                The ice surface type. See PUBLIC PARAMETERS
                                  for the valid types.
                                  UNITS:      N/A
                                  TYPE:       INTEGER
                                  DIMENSION:  Scalar

         Ice_Temperature:         The ice surface temperature.
                                  UNITS:      Kelvin, K
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Ice_Thickness:           The thickness of the ice.
                                  UNITS:      mm
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Ice_Density:             The ice density
                                  UNITS:      g.cm^-3
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         Ice_Roughness:           Measure of the surface roughness of the ice
                                  UNITS:      N/A
                                  TYPE:       REAL( fp_kind )
                                  DIMENSION:  Scalar

         SensorData:              Satellite sensor data required for some
                                  surface algorithms. Can be left empty.
                                  UNITS:      N/A
                                  TYPE:       TYPE( CRTM_SensorData_type )
                                  DIMENSION:  Scalar

 PUBLIC PARAMETERS:
       1) The type of land surface using in the Surface%Land_Type field:

                  Land type                Parameter Name
         --------------------------------------------------------
                   Invalid                 INVALID_LAND            
                Compacted soil             COMPACTED_SOIL          
                  Tilled soil              TILLED_SOIL             
                    Sand                   SAND                      
                    Rock                   ROCK                      
           Irrigated low vegetation        IRRIGATED_LOW_VEGETATION
                 Meadow grass              MEADOW_GRASS            
                    Scrub                  SCRUB                     
               Broadleaf forest            BROADLEAF_FOREST        
                 Pine forest               PINE_FOREST             
                   Tundra                  TUNDRA                   
                 Grass soil                GRASS_SOIL              
             Broadleaf-pine forest         BROADLEAF_PINE_FOREST   
                 Grass scrub               GRASS_SCRUB             
                  Oil grass                OIL_GRASS               
                Urban concrete             URBAN_CONCRETE          
                  Pine brush               PINE_BRUSH              
                Broadleaf brush            BROADLEAF_BRUSH         
                   Wet soil                WET_SOIL                 
                  Scrub soil               SCRUB_SOIL              
            Broadleaf(70)-Pine(30)         BROADLEAF70_PINE30



       2) The type of water surface using in the Surface%Water_Type field:

           Water type        Parameter Name
         ------------------------------------
             Invalid         INVALID_WATER 
            Sea water        SEA_WATER     
           Fresh water       FRESH_WATER   



       3) The type of snow surface using in the Surface%Snow_Type field:

               Snow type            Parameter Name
         -----------------------------------------------

                Invalid             INVALID_SNOW       
               Wet snow             WET_SNOW           
            Grass after snow        GRASS_AFTER_SNOW   
              Powder snow           POWDER_SNOW        
               RS snow(A)           RS_SNOW_A          
               RS snow(B)           RS_SNOW_B          
               RS snow(C)           RS_SNOW_C          
               RS snow(D)           RS_SNOW_D          
               RS snow(E)           RS_SNOW_E          
            Thin Crust snow         THIN_CRUST_SNOW    
            Thick crust snow        THICK_CRUST_SNOW   
              Shallow snow          SHALLOW_SNOW       
               Deep snow            DEEP_SNOW          
              Crust snow            CRUST_SNOW         
              Medium snow           MEDIUM_SNOW        
           Bottom crust snow(A)     BOTTOM_CRUST_SNOW_A
           Bottom crust snow(B)     BOTTOM_CRUST_SNOW_B



       4) The type of ice surface using in the Surface%Ice_Type field:

                  Ice type           Parameter Name
         ------------------------------------------------
                  Invalid            INVALID_ICE       
                 Fresh ice           FRESH_ICE         
             First year sea ice      FIRST_YEAR_SEA_ICE
           Multiple year sea ice     MULTI_YEAR_SEA_ICE
                 Ice floe            ICE_FLOE            
                 Ice ridge           ICE_RIDGE           


 INCLUDE FILES:
       None.

 EXTERNALS:
       None.

 COMMON BLOCKS:
       None.

 FILES ACCESSED:
       None.

 CREATION HISTORY:
       Written by:  Yong Han,       NOAA/NESDIS;     Yong.Han@noaa.gov
                    Quanhua Liu,    QSS Group, Inc;  Quanhua.Liu@noaa.gov
                    Paul van Delst, CIMSS/SSEC;      paul.vandelst@ssec.wisc.edu
                    07-May-2004

  Copyright (C) 2004 Yong Han, Quanhua Liu, Paul van Delst

  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
  as published by the Free Software Foundation; either version 2
  of the License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program; if not, write to the Free Software
  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
</PRE><P>
<STRONG>(See crtm_surface_define.f90)</STRONG><P>
<HR>
 
<A NAME="CRTM_SENSORDATA_DEFINE">
<H2>CRTM_SENSORDATA_DEFINE</H2></A>
<A HREF="#CRTM_SURFACE_DEFINE">[Previous Module]</A>
<A HREF="#CRTM_SURFACE_BINARY_IO">[Next Module]</A>
<A HREF="#MODULELIST">[List of Modules]</A>
<PRE>
 NAME:
       CRTM_SensorData_Define

 PURPOSE:
       Module defining the CRTM SensorData SensorData structure and containing
       routines to manipulate it.
       
 CATEGORY:
       CRTM : Surface : Sensor Data

 LANGUAGE:
       Fortran-95

 CALLING SEQUENCE:
       USE SensorData_Define

 MODULES:
       Type_Kinds:          Module containing definitions for kinds
                            of variable types.

       Error_Handler:       Module to define simple error codes and
                            handle error conditions
                            USEs: FILE_UTILITY module

       CRTM_Parameters:     Module of parameter definitions for the CRTM.
                            USEs: TYPE_KINDS module

 CONTAINS:
       CRTM_Associated_SensorData:  Function to test the association status
                                    of the pointer members of a SensorData
                                    structure.

       CRTM_Destroy_SensorData:     Function to re-initialize an SensorData
                                    structure.

       CRTM_Allocate_SensorData:    Function to allocate the pointer members
                                    of a SensorData structure.

       CRTM_Assign_SensorData:      Function to copy an SensorData structure.


 DERIVED TYPES:
       CRTM_SensorData_type
       --------------------
         Definition of the CRTM SensorData data structure.
         Fields are...

         n_Channels:              Number of channels dimension.
                                  This is the &quot;L&quot; dimension.
                                  Note: Can be = 0 (i.e. no sensor data)
                                  UNITS:      N/A
                                  TYPE:       INTEGER
                                  DIMENSION:  Scalar

         NCEP_Sensor_ID:          An &quot;in-house&quot; value used at NOAA/NCEP/EMC 
                                  to identify a satellite/sensor combination.
                                  UNITS:      N/A
                                  TYPE:       INTEGER
                                  DIMENSION:  Rank-1, n_Channels
                                  ATTRIBUTES: POINTER

         WMO_Satellite_ID:        The WMO code for identifying satellite
                                  platforms. Taken from the WMO common
                                  code tables at:
                                    http://www.wmo.ch/web/ddbs/Code-tables.html
                                  The Satellite ID is from Common Code
                                  table C-5, or code table 0 01 007 in BUFR
                                  UNITS:      N/A
                                  TYPE:       INTEGER
                                  DIMENSION:  Rank-1, n_Channels
                                  ATTRIBUTES: POINTER

         WMO_Sensor_ID:           The WMO code for identifying a satelite
                                  sensor. Taken from the WMO common
                                  code tables at:
                                    http://www.wmo.ch/web/ddbs/Code-tables.html
                                  The Sensor ID is from Common Code
                                  table C-8, or code table 0 02 019 in BUFR
                                  UNITS:      N/A
                                  TYPE:       INTEGER
                                  DIMENSION:  Rank-1, n_Channels
                                  ATTRIBUTES: POINTER

         Sensor_Channel:          This is the sensor channel number associated
                                  with the data in the coefficient file. Helps
                                  in identifying channels where the numbers are
                                  not contiguous (e.g. AIRS).
                                  UNITS:      N/A
                                  TYPE:       INTEGER
                                  DIMENSION:  Rank-1, n_Channels
                                  ATTRIBUTES: POINTER

         Tb:                      The brightness temperature observation for
                                  the specified channel.
                                  UNITS:      Kelvin (K)
                                  TYPE:       REAL( Double )
                                  DIMENSION:  Rank-1, n_Channels


       *!IMPORTANT!*
       -------------
       Note that the CRTM_SensorData_type is PUBLIC and its members are
       not encapsulated; that is, they can be fully accessed outside the
       scope of this module. This makes it possible to manipulate
       the structure and its data directly rather than, for e.g., via
       get() and set() functions. This was done to eliminate the
       overhead of the get/set type of structure access in using the
       structure. *But*, it is recommended that the user destroy,
       allocate, and assign the structure using only the routines
       in this module where possible to eliminate -- or at least
       minimise -- the possibility of memory leakage since most
       of the structure members are pointers.

 INCLUDE FILES:
       None.

 EXTERNALS:
       None.

 COMMON BLOCKS:
       None.

 FILES ACCESSED:
       None.

 CREATION HISTORY:
       Written by:     Paul van Delst, CIMSS/SSEC 23-Jul-2004
                       paul.vandelst@ssec.wisc.edu

  Copyright (C) 2004 Paul van Delst

  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
  as published by the Free Software Foundation; either version 2
  of the License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program; if not, write to the Free Software
  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
</PRE><P>
<STRONG>(See crtm_sensordata_define.f90)</STRONG><P>
<HR>
 
<A NAME="CRTM_SURFACE_BINARY_IO">
<H2>CRTM_SURFACE_BINARY_IO</H2></A>
<A HREF="#CRTM_SENSORDATA_DEFINE">[Previous Module]</A>
<A HREF="#MODULELIST">[List of Modules]</A>
<PRE>
 NAME:
       CRTM_Surface_Binary_IO

 PURPOSE:
       Module containing routines to inquire, read, and write Binary format
       CRTM_Surface files.
       
 CATEGORY:
       CRTM : Surface : I/O

 LANGUAGE:
       Fortran-95

 CALLING SEQUENCE:
       USE CRTM_Surface_Binary_IO

 MODULES:
       Type_Kinds:              Module containing definitions for kinds
                                of variable types.

       File_Utility:            Module containing generic file utility routines

       Error_Handler:           Module to define simple error codes and
                                handle error conditions
                                USEs: FILE_UTILITY module

       Binary_File_Utility:     Module for utility routines for &quot;Binary&quot;
                                datafiles (unformatted, sequential).
                                USEs: TYPE_KINDS module
                                      FILE_UTILITY module
                                      ERROR_HANDLER module

       CRTM_Surface_Define:     Module defining the CRTM_Surface data
                                structure and containing routines to
                                manipulate it.
                                USEs: TYPE_KINDS module
                                      ERROR_HANDLER module

 CONTAINS:
       CRTM_Inquire_Surface_Binary:    Function to inquire Binary format
                                       CRTM_Surface files.

       CRTM_Read_Surface_Binary:       Function to read CRTM_Surface
                                       structures from Binary format
                                       CRTM_Surface files.

       CRTM_Write_Surface_Binary:      Function to write CRTM_Surface
                                       structures to Binary format
                                       CRTM_Surface files.

 INCLUDE FILES:
       None.

 EXTERNALS:
       None.

 COMMON BLOCKS:
       None.

 CREATION HISTORY:
       Written by:     Paul van Delst, CIMSS/SSEC 21-Jul-2004
                       paul.vandelst@ssec.wisc.edu

  Copyright (C) 2004 Paul van Delst

  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
  as published by the Free Software Foundation; either version 2
  of the License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program; if not, write to the Free Software
  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
</PRE><P>
<STRONG>(See crtm_surface_binary_io.f90)</STRONG><P>
<HR>
 
</body>
</html>
